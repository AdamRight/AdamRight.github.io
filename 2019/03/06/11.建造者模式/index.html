<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="Hexo">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->





<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>建造者模式 | Hexo</title>


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    

</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='John Doe'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2> 士不可以不弘毅，任重而道远 </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">Hexo</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Android/"><i class="fa "></i>Android</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Web/"><i class="fa "></i>Web</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Java/"><i class="fa "></i>Java</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/C/C++/"><i class="fa "></i>C/C++</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="建造者模式">
            
	            建造者模式
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/Android">
            Android
        </a>
    </span>
    

    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
                    <a href="/tags/设计模式" title='设计模式'>
                        设计模式
                    </a>
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/03/06</span>
        </span>
        
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>建造者模式(Builder Pattern)：将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。建造者模式是一种对象创建型模式。</p>
<p>建造者模式为客户端返回的不是一个简单的产品，而是一个由多个部件组成的复杂产品。</p>
<p>简单来说，复杂对象是指那些包含多个成员属性的对象，这些成员属性也称为部件或零件，如汽车包括方向盘、发动机、轮胎等部件，电子邮件包括发件人、收件人、主题、内容、附件等部件。</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><p>在建造者模式中包含如下几个角色：</p>
<ol>
<li><p>Builder（抽象建造者）：它为创建一个产品Product对象的各个部件指定抽象接口，在该接口中一般声明两类方法，一类方法是buildPartX()，它们用于创建复杂对象的各个部件；另一类方法是getResult()，它们用于返回复杂对象。Builder既可以是抽象类，也可以是接口。</p>
</li>
<li><p>ConcreteBuilder（具体建造者）：它实现了Builder接口，实现各个部件的具体构造和装配方法，定义并明确它所创建的复杂对象，也可以提供一个方法返回创建好的复杂产品对象。</p>
</li>
<li><p>Product（产品角色）：它是被构建的复杂对象，包含多个组成部件，具体建造者创建该产品的内部表示并定义它的装配过程。</p>
</li>
<li><p>Director（指挥者）：负责安排复杂对象的建造次序，指挥者与抽象建造者之间存在关联关系，可以在其construct()建造方法中调用建造者对象的部件构造与装配方法，完成复杂对象的建造。</p>
</li>
</ol>
<p>客户端一般只需要与指挥者进行交互，在客户端确定具体建造者的类型，并实例化具体建造者对象（也可以通过配置文件和反射机制），然后通过指挥者类的构造函数或者Setter方法将该对象传入指挥者类中。</p>
<p>建造者模式与抽象工厂模式有点相似，但是建造者模式返回一个完整的复杂产品，而抽象工厂模式返回一系列相关的产品。</p>
<h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p>实例：生产机器人，包含机器人服装，脸型，机器人功能</p>
<pre><code>//产品,包含很多组件
class RobotProduct {
    private String type; //机器人功能
    private String face; //脸型
    private String costume; //服装

    public void setType(String type) {
        this.type = type;
    }
    public void setFace(String face) {
        this.face = face;
    }
    public void setCostume(String costume) {
        this.costume = costume;
    }

    public String getType() {
        return (this.type);
    }
    public String getFace() {
        return (this.face);
    }
    public String getCostume() {
        return (this.costume);
    }
}

//抽象建造者
abstract class RobotBuilder {

    protected RobotProduct robot = new RobotProduct();

    public abstract void buildType();
    public abstract void buildFace();
    public abstract void buildCostume();

    //工厂方法，返回一个完整机器人
    public RobotProduct createRobot() {
        return robot;
    }
}

//具体建造者
class ManBuilder extends RobotBuilder {

    public void buildType() {
        robot.setType(&quot;男仆&quot;);
    }

    public void buildFace() {
        robot.setFace(&quot;英俊&quot;);
    }

    public void buildCostume() {
        robot.setCostume(&quot;西服&quot;);
    }
}

//具体建造者
class WomanBuilder extends RobotBuilder {
    public void buildType() {
        robot.setType(&quot;女仆&quot;);
    }

    public void buildFace() {
        robot.setFace(&quot;漂亮&quot;);
    }

    public void buildCostume() {
        robot.setCostume(&quot;短裙&quot;);
    }
}

//指挥者类定义了construct()方法，该方法拥有一个抽象建造者类型的参数，在该方法内部实现了机器人的逐步构建
class RobotController {
    //逐步构建复杂产品对象
    public RobotProduct construct(RobotBuilder ab) {
        RobotProduct robot;
        ab.buildType();
        ab.buildFace();
        ab.buildCostume();
        robot = ab.createRobot();
        return robot;
    }
}

class Client {
    public static void main(String args[]) {
        RobotBuilder ab =  new WomanBuilder();
        RobotController ac = new  RobotController();

        RobotProduct robot = ac.construct(ab); //通过指挥者创建完整的建造者对象

        System.out.println(robot.getType()  + &quot;的外观：&quot;);
        System.out.println(&quot;面容：&quot; + robot.getFace());
        System.out.println(&quot;服装：&quot; + robot.getCostume());
    }
}
</code></pre><h2 id="变形"><a href="#变形" class="headerlink" title="变形"></a>变形</h2><p>建造者模式的变形，也是在源码和开源项目中长用的，比如：AlertDialog</p>
<pre><code>//产品,包含很多组件
class RobotProduct {
    private String type; //机器人功能
    private String face; //脸型
    private String costume; //服装
    public void apply(RobotBuilder.RobotParmas parmas) {
        type = parmas.type;
        face = parmas.face;
        costume = parmas.costume;
    }
    @Override
    public String toString() {
        return type + &quot;的外观：&quot; + &quot;面容：&quot; + face + &quot;服装：&quot; + costume;
    }
}

//具体建造者
class RobotBuilder {

    private RobotBuilder.RobotParmas parmas;

    public RobotBuilder() {
        this.parmas = new RobotBuilder.RobotParmas();
    }
    public RobotBuilder makeType(String type) {
        parmas.type = type;
        return this;
    }
    public RobotBuilder makeFace(String face) {
        parmas.face = face;
        return this;
    }
    public RobotBuilder makeCostume(String costume) {
        parmas.costume = costume;
        return this;
    }
    //真正构建
    public RobotProduct build() {
        RobotProduct produc = new RobotProduct();
        produc.apply(parmas);
        return produc;
    }

    class RobotParmas {
        public String type; //机器人功能
        public String face; //脸型
        public String costume; //服装
    }
}

class Client {
    public static void main(String args[]) {
         RobotProduct product = new RobotBuilder().makeType(&quot;女仆&quot;).makeFace(&quot;俊俏&quot;).makeCostume(&quot;护士装&quot;).build();
         System.out.println(product.toString());
    }
}
</code></pre>
    </div>
    
        <div class="reward">
    <div class="reward-wrap">赏
        <div class="reward-box">
            
                <span class="reward-type">
                    <img class="alipay" src="../../../../img/reward-alipay.jpg"><b>支付宝打赏</b>
                </span>
            
            
                <span class="reward-type">
                    <img class="wechat" src="../../../../img/reward-wepay.jpg"><b>微信打赏</b>
                </span>
            
        </div>
    </div>
    <p class="reward-tip">赞赏是不耍流氓的鼓励</p>
</div>


    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Snippet</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2019/03/28/12.责任链模式/" class="pre-post btn btn-default" title='责任链模式'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">责任链模式</span>
        </a>
    
    
        <a href="/2019/03/01/10.工厂模式三兄弟/" class="next-post btn btn-default" title='工厂模式三兄弟'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">工厂模式三兄弟</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>






                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#角色"><span class="toc-text">角色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#场景"><span class="toc-text">场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变形"><span class="toc-text">变形</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>